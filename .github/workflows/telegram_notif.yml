name: Telegram Notification

on:
  push:
    branches: [main]

jobs:
  send_notification:
    runs-on: ubuntu-latest
    steps:
      - name: Send Telegram Notification
        uses: actions/github-script@v6
        with:
          script: |
            const token = '${{ secrets.TELEGRAM_BOT_TOKEN }}';
            const chatId = '${{ secrets.TELEGRAM_CHAT_ID }}';
            const message = ` *Rilis baru* telah dirilis: *${github.event.release.name}* \n\n_Deskripsi:_\n${github.event.release.body}\n\n<u>Link:</u> ${github.event.release.html_url}`;

            fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}&parse_mode=MarkdownV2`, {
              method: 'POST'
              });
